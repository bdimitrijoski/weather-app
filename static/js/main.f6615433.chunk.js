(this["webpackJsonpbd-weather-app"]=this["webpackJsonpbd-weather-app"]||[]).push([[0],{65:function(e,t,a){e.exports=a(82)},75:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),o=a(16),l=a(121),u=(a(75),a(120)),s=a(109),p=a(124),b=a(118),m=a(114),d=a(42),h=a.n(d),f=a(52),g=a(7),v=a(8),O=a(5),j=function(){function e(){Object(g.a)(this,e),this.converter=new O.JsonConvert(O.OperationMode.ENABLE,O.ValueCheckingMode.ALLOW_NULL,!0)}return Object(v.a)(e,[{key:"create",value:function(e,t){var a={};try{a=this.converter.deserializeObject(t,e)}catch(n){console.error(n)}return a}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();j.instance=void 0;var y,E,w,k,x,C,N=a(12),S=a(11),I=a(36),T=a(35),D=a(13),J=(a(39),function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this))}}]),e}());!function(e){e.Imperial="imperial",e.Metric="metric"}(y||(y={}));var P,z,A,_,M,W,F,H,R,L,G,U,B,V,X,q,K,Q,Y,Z,$,ee,te,ae,ne,re,ce,ie,oe,le,ue,se,pe=(E=Object(O.JsonObject)("Temperature"),w=Object(O.JsonProperty)("value",Number),E((x=function(){function e(t){Object(g.a)(this,e),Object(N.a)(this,"value",C,this),this.value=Math.round(t)}return Object(v.a)(e,[{key:"getFahrenheit",value:function(){return Math.round(this.value)}},{key:"getCelsius",value:function(){return Math.round(5*(this.value-32)/9)}},{key:"toString",value:function(e){var t=e&&e===y.Metric?this.getCelsius():this.getFahrenheit();return isNaN(t)?"":t.toString()}}]),e}(),C=Object(D.a)(x.prototype,"value",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x))||k),be=Object(O.JsonConverter)(P=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"serialize",value:function(e){return e.value}},{key:"deserialize",value:function(e){return new pe(e)}}]),e}())||P,me=Object(O.JsonConverter)(z=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"serialize",value:function(e){return e}},{key:"deserialize",value:function(e){var t=+e.split(":")[0];return 0===t?"12 am":t>=12?"".concat(t%12||12," pm"):"".concat(t," am")}}]),e}())||z,de=(A=Object(O.JsonObject)("WeatherInfo"),_=Object(O.JsonProperty)("avg",be),M=Object(O.JsonProperty)("min",be),W=Object(O.JsonProperty)("max",be),F=Object(O.JsonProperty)("time",me),H=Object(O.JsonProperty)("description",String),R=Object(O.JsonProperty)("icon",String),L=Object(O.JsonProperty)("date",String,!0),A((U=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this),Object(N.a)(n,"avg",B,Object(S.a)(n)),Object(N.a)(n,"min",V,Object(S.a)(n)),Object(N.a)(n,"max",X,Object(S.a)(n)),Object(N.a)(n,"time",q,Object(S.a)(n)),Object(N.a)(n,"description",K,Object(S.a)(n)),Object(N.a)(n,"icon",Q,Object(S.a)(n)),Object(N.a)(n,"date",Y,Object(S.a)(n)),Object.assign(Object(S.a)(n),e),n}return Object(v.a)(a,[{key:"getHashCode",value:function(){return btoa("".concat(this.time,"_").concat(this.time))}},{key:"getImageUrl",value:function(){return this.icon?"http://openweathermap.org/img/wn/".concat(this.icon.replace("n","d"),".png"):""}}]),a}(J),B=Object(D.a)(U.prototype,"avg",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),V=Object(D.a)(U.prototype,"min",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),X=Object(D.a)(U.prototype,"max",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),q=Object(D.a)(U.prototype,"time",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),K=Object(D.a)(U.prototype,"description",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Q=Object(D.a)(U.prototype,"icon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Y=Object(D.a)(U.prototype,"date",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),G=U))||G),he=Object(O.JsonConverter)(Z=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"serialize",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"deserialize",value:function(e){var t=this.getClosestWetherInfo(e),a=this.isToday(t.date)?t:this.calcAvgTemperatures(e);return j.getInstance().create(de,a)}},{key:"calcAvgTemperatures",value:function(e){var t=[],a=[],n=[],r={},c=Math.ceil(e.length/2);return e.forEach((function(e,i){t.push(e.min),a.push(e.max),n.push(e.avg),i===c&&(r.icon=e.icon,r.time=e.time,r.description=e.description)})),r.min=this.calcAvg(t),r.max=this.calcAvg(a),r.avg=this.calcAvg(n),r}},{key:"isToday",value:function(e){var t=new Date(e);return(new Date).getDate()===t.getDate()}},{key:"getClosestWetherInfo",value:function(e){var t=[0,3,6,9,12,15,18,21];t.length!==e.length&&(t=t.slice(t.length-e.length));var a=(new Date).getHours(),n=this.getClosestHour(t,a);return e[t.indexOf(n)]}},{key:"calcAvg",value:function(e){return e.reduce((function(e,t){return e+t}),0)/e.length||0}},{key:"getClosestHour",value:function(e,t){return e.reduce((function(e,a){return Math.abs(a-t)<Math.abs(e-t)?a:e}))}}]),e}())||Z,fe=Object(O.JsonConverter)($=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"serialize",value:function(e){return e}},{key:"deserialize",value:function(e){var t=new Date(e);return this.isToday(t)?"Today":this.isTomorrow(t)?"Tomorrow":t.toLocaleDateString("en-US",{weekday:"short",day:"numeric"}).split(" ").reverse().join(" ")}},{key:"isToday",value:function(e){return(new Date).getDate()===e.getDate()}},{key:"isTomorrow",value:function(e){return(new Date).getDate()+1===e.getDate()}}]),e}())||$,ge=(ee=Object(O.JsonObject)("WeatherForecast"),te=Object(O.JsonProperty)("date",String),ae=Object(O.JsonProperty)("date",fe),ne=Object(O.JsonProperty)("forecast",[de]),re=Object(O.JsonProperty)("forecast",he),ee((ie=function(e){Object(I.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(g.a)(this,a),n=t.call(this),Object(N.a)(n,"date",oe,Object(S.a)(n)),Object(N.a)(n,"displayDate",le,Object(S.a)(n)),Object(N.a)(n,"hourlyForecast",ue,Object(S.a)(n)),Object(N.a)(n,"weather",se,Object(S.a)(n)),Object.assign(Object(S.a)(n),e),n}return Object(v.a)(a,[{key:"getImageUrl",value:function(){return this.weather?"http://openweathermap.org/img/wn/".concat(this.weather.icon.replace("n","d"),"@2x.png"):""}},{key:"getHashCode",value:function(){return btoa("".concat(this.date))}}]),a}(J),oe=Object(D.a)(ie.prototype,"date",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),le=Object(D.a)(ie.prototype,"displayDate",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ue=Object(D.a)(ie.prototype,"hourlyForecast",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),se=Object(D.a)(ie.prototype,"weather",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ce=ie))||ce),ve=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"getWeather",value:function(){return new Promise((function(e,t){fetch("http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=".concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=40&units=imperial")).then((function(e){return e.json()})).then((function(t){return e(t.list)}))}))}}]),e}(),Oe=function(){function e(){Object(g.a)(this,e),this.resourceService=void 0,this.resourceService=new ve}return Object(v.a)(e,[{key:"getWeather",value:function(){var e=this;return this.resourceService.getWeather().then((function(t){return e.processData(t)}))}},{key:"processData",value:function(e){var t={},a="";return e.forEach((function(e){var n=e.dt_txt.split(" "),r=n[0],c=n[1];a!==r&&(t[a=r]={date:a,forecast:[]});var i={min:+e.main.temp_min,max:+e.main.temp_max,avg:+e.main.temp,description:e.weather[0].description,icon:e.weather[0].icon,time:c,date:r};t[a].forecast.push(i)})),Object.keys(t).map((function(e){return j.getInstance().create(ge,t[e])}))}}]),e}(),je=a(111),ye=a(112),Ee=a(113),we=a(85),ke=Object(s.a)({root:{maxWidth:345},media:{height:140}}),xe=function(e){var t=e.data,a=e.units,n=e.isActive,c=e.onDayCardClick,i=ke();return r.a.createElement(je.a,{className:"".concat(i.root," weather-card ").concat(n?" active":""),onClick:function(){return c(t)},title:"Click to see Details"},r.a.createElement(ye.a,null,r.a.createElement("img",{src:"".concat(t.getImageUrl()),alt:t.weather.description}),r.a.createElement(we.a,{gutterBottom:!0,variant:"body1",component:"p"},t.displayDate),r.a.createElement(Ee.a,null,r.a.createElement(we.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.weather.avg.toString(a)," ",r.a.createElement("sup",null,"\xb0C")),r.a.createElement(we.a,{variant:"body2",component:"p",className:"text-capitalize"},t.weather.description))))},Ce=a(84),Ne=Object(s.a)((function(e){return Object(p.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),boxShadow:"none",borderRadius:0}})})),Se=function(e){var t=e.data,a=e.units,n=Ne();return r.a.createElement("div",{className:n.root},r.a.createElement(m.a,{container:!0,spacing:3},t.hourlyForecast&&t.hourlyForecast.map((function(e,t){return r.a.createElement(m.a,{item:!0,xs:12,md:!0,key:e.getHashCode(),title:e.description},r.a.createElement(Ce.a,{className:"".concat(n.paper," weather-card hourly-forecast-card")},r.a.createElement("div",{className:"txt-wrapper img-wrapper"},r.a.createElement("img",{src:"".concat(e.getImageUrl()),alt:e.description})),r.a.createElement("div",{className:"weather-info-wrapper"},r.a.createElement("div",{className:"txt-wrapper"},r.a.createElement("p",{className:"txt-wrapper"},e.avg.toString(a)," ",r.a.createElement("sup",null,"\xb0C")),r.a.createElement("p",{className:"txt-wrapper"},e.time)),r.a.createElement("p",{className:"visible-mobile pull-left"},e.description))))}))))},Ie=a(115),Te=a(116),De=function(e){var t=e.pageIndex,a=e.onPageIndexChanged,n=function(e){a("next"===e?t+1:t-1)};return r.a.createElement("div",{className:"days-toolbar"},r.a.createElement(Ie.a,{"aria-label":"Prev",className:"pull-left",onClick:function(){return n("prev")},disabled:0===t},r.a.createElement(Te.a,null,"chevron_left")),r.a.createElement(Ie.a,{"aria-label":"Next",className:"pull-right",onClick:function(){return n("next")},disabled:t>=2},r.a.createElement(Te.a,null,"chevron_right")))},Je=a(123),Pe=a(117),ze=a(122),Ae=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather.units}));return r.a.createElement("div",null,r.a.createElement("div",{className:"pull-right"},r.a.createElement(Je.a,{name:"units",className:"pull-right",value:t,row:!0,onChange:function(t){e({type:"SWITCH_UNITS",payload:t.target.value})}},r.a.createElement(Pe.a,{value:"imperial",color:"primary",labelPlacement:"end",control:r.a.createElement(ze.a,null),label:"Fahrenheit"}),r.a.createElement(Pe.a,{value:"metric",color:"primary",labelPlacement:"end",control:r.a.createElement(ze.a,null),label:"Celcius"}))))},_e=Object(s.a)((function(e){return Object(p.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})})),Me=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather.pageIndex})),a=Object(o.c)((function(e){return e.weather.data?e.weather.data.slice(t,t+3):[]})),c=Object(o.c)((function(e){return e.weather.currentForecast})),i=Object(o.c)((function(e){return e.weather.units})),l=Object(o.c)((function(e){return e.weather.loading}));Object(n.useEffect)((function(){e({type:"SET_LOADING"}),e(function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=new Oe,e.next=4,a.getWeather();case 4:n=e.sent,t({type:"GET_WEATHER",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"SET_ERROR",payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var u=function(t){e({type:"SET_FORECAST_ACTIVE",payload:t})},s=_e();return r.a.createElement(b.a,{maxWidth:"lg"},r.a.createElement("h1",null,"Weather in Munich"),l?r.a.createElement("h2",{className:"is-size-3 py-2"},"Loading..."):r.a.createElement("div",null,r.a.createElement(Ae,null),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("div",{className:"heading"},r.a.createElement("h2",null,"Daily"),r.a.createElement("div",{className:"pull-right"},r.a.createElement(De,{pageIndex:t,onPageIndexChanged:function(t){e(function(e){return{type:"SET_PAGE_INDEX",payload:e}}(t))}}))),r.a.createElement("div",{className:s.root},r.a.createElement(m.a,{container:!0,spacing:3,direction:"row",justify:"center",alignItems:"center"},!l&&a&&a.map((function(e,t){return r.a.createElement(m.a,{item:!0,xs:4,sm:4,key:e.getHashCode()},r.a.createElement(xe,{data:e,units:i,isActive:e.getHashCode()===c.getHashCode(),onDayCardClick:u}))})))),r.a.createElement("div",{className:"clearfix"}),r.a.createElement("br",null),r.a.createElement("div",{className:"heading"},r.a.createElement("h2",null,"Hourly")),r.a.createElement("div",null,c?r.a.createElement(Se,{data:c,units:i}):"")))},We=a(58),Fe=a(119),He={color:"white",backgroundColor:"transparent",boxShadow:"none",borderRadius:0,border:"1px solid transparent"},Re=Object(We.a)({palette:{primary:Fe.a,secondary:{main:"#fff"}},overrides:{MuiRadio:{colorPrimary:{color:"white"},colorSecondary:{color:"white"}},MuiPaper:{root:He},MuiCard:{root:He},MuiCssBaseline:{"@global":{html:{WebkitFontSmoothing:"auto"},body:{color:"white"}}}}});a(79).config();var Le=function(){return r.a.createElement(u.a,{theme:Re},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"weather-bg"}),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(l.a,null),r.a.createElement(Me,null))))},Ge=a(20),Ue=a(56),Be=a(57),Ve=a(18),Xe={data:null,currentForecast:null,loading:!1,error:"",pageIndex:0,units:y.Imperial},qe=Object(Ge.combineReducers)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_WEATHER":return{data:t.payload,currentForecast:t.payload.length?t.payload[0]:null,loading:!1,error:"",pageIndex:0,units:y.Imperial};case"SET_FORECAST_ACTIVE":return Object(Ve.a)(Object(Ve.a)({},e),{},{currentForecast:t.payload});case"SET_LOADING":return Object(Ve.a)(Object(Ve.a)({},e),{},{loading:!0});case"SET_ERROR":return Object(Ve.a)(Object(Ve.a)({},e),{},{error:t.payload,loading:!1});case"SET_PAGE_INDEX":return Object(Ve.a)(Object(Ve.a)({},e),{},{pageIndex:t.payload});case"SWITCH_UNITS":return Object(Ve.a)(Object(Ve.a)({},e),{},{units:t.payload});default:return e}}}),Ke=Object(Ge.createStore)(qe,Object(Ue.composeWithDevTools)(Object(Ge.applyMiddleware)(Be.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Ke},r.a.createElement(Le,null))),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f6615433.chunk.js.map